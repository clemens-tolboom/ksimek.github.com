
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>Sightations &larr; Kyle Simek</title>
   <meta name="author" content="Kyle Simek" />

   <link rel="start" href="/" />

	
	
    <link rel="shortcut icon" href="/favicon.ico">

	
  	<link rel="alternate" type="application/atom+xml" href="http://feeds.feedburner.com/sightations" title="RSS feed" />
	
	

   <!-- syntax highlighting CSS -->
   <link rel="stylesheet" href="/assets/themes/mark-reid/css/syntax.css" type="text/css" />

   <!-- Jquery UI CSS --!>
	

   <!-- Homepage CSS -->
   <link media="screen" rel="stylesheet" href="/assets/themes/mark-reid/css/screen.css" type="text/css" />

   <!-- Handheld CSS -->
   <link media="handheld, only screen and (max-width: 480px), only screen and (max-device-width: 480px)" href="/assets/themes/mark-reid/css/handheld.css" type="text/css" rel="stylesheet" />


<!--[if IEMobile]>
<link rel="stylesheet" type="text/css" href="/assets/themes/mark-reid/css/handheld.css" media="screen" />
<![endif]-->

   <!-- Mathjax Javascript -->

	

   <!-- three.js Javascript -->
	
	
	

	

</head>
<body id="">
<div id="site">
  
  <div id="header">
    <h1>
    	<a href="/" title="Sightations">Sightations</a>
    	<span class="byline">&larr; <a href="/">A Computer Vision Blog</a></span>
    </h1>
    <ul class="nav">
      <li><a class="home" href="/">Home</a></li>
      <li><a href="/about.html">About</a></li>
      <li><a href="/contact.html">Contact</a></li>
      <li><a href="/code.html">Code</a></li>
      <li><a  href="/archive.html">Archive</a></li>
      <li><a  href="/feeds.html"><img src="/img/feed-icon.gif" /></a></li> 

    </ul>
  </div>

  
<div id="page">
	

<div class="firehose-post article">
    
    
    
    
  <a class="title-link" href="/2013/08/13/intrinsic/">
  <h1 class="title">Dissecting the Camera Matrix, Part 3: The Intrinsic Matrix</h1>
  </a>

  <div class="date emphnext">August 13, 2013</div>
    


  
    

<div class="clearer"></div>


<div class='context-img' style='width:320px'>
<img src='/img/kodak-camera.jpg' />
<div class='caption'>
<div class='credit'><a href="http://www.flickr.com/photos/alhazen/8587124359/">Credit: Dave6163 (via Flickr)</a></div>
</div>
</div>


<p>Today we'll study the intrinsic camera matrix in our third and final chapter in the trilogy "Dissecting the Camera Matrix."  In <a href="/2012/08/14/decompose/">the first article</a>, we learned how to split the full camera matrix into the intrinsic and extrinsic matrices and how to properly handle ambiguities that arise in that process.  The <a href="/2012/08/22/extrinsic/">second article</a> examined the extrinsic matrix in greater detail, looking into several different interpretations of its 3D rotations and translations.   Today we'll give the same treatment to the intrinsic matrix, examining two equivalent interpretations: as a description of the virtual camera's geometry and as a sequence of simple 2D transformations.   Afterward, you'll see an interactive demo illustrating both interpretations.</p>

<p>If you're not interested in delving into the theory and just want to use your intrinsic matrix with OpenGL, check out the articles <a href="/2013/06/03/calibrated_cameras_in_opengl/">Calibrated Cameras in OpenGL without glFrustum</a> and <a href="/2013/06/18/calibrated-cameras-and-gluperspective/">Calibrated Cameras and gluPerspective</a>.</p>

<p>All of these articles are part of the series "<a href="/2012/08/13/introduction/">The Perspective Camera, an Interactive Tour</a>."  To read the other entries in the series, <a href="/2012/08/13/introduction/#toc">head over to the table of contents</a>.</p>


    <p> <a href="/2013/08/13/intrinsic//#more" class="more-link"><span class="readmore">more...</span></a></p>
  


</div>

<div class="firehose-post article">
    
    
    
    
  <a class="title-link" href="/2013/06/18/calibrated-cameras-and-gluperspective/">
  <h1 class="title">Calibrated Cameras and gluPerspective</h1>
  </a>

  <div class="date emphnext">June 18, 2013</div>
    


  
    <p>After posting my last article <a href="/2013/06/03/calibrated_cameras_in_opengl/">relating glFrustum to the intrinsic camera matrix</a>, I receieved some emails asking how the (now deprecated) <a href="http://pic.dhe.ibm.com/infocenter/aix/v6r1/index.jsp?topic=%2Fcom.ibm.aix.opengl%2Fdoc%2Fopenglrf%2FgluPerspective.htm">gluPerspective</a> function relates to the intrinsic matrix.  We can show a similar result with <code>gluPerspective</code> as we did with <code>glFrustum</code>, namely that it is the product of a <code>glOrtho</code> matrix and a (modified) intrinsic camera matrix, but in this case the intrinsic matrix has different constraints.  I'll be re-using notation and concepts from the previous article, so if you aren't familiar with them, I recommend reading it first.</p>


    <p> <a href="/2013/06/18/calibrated-cameras-and-gluperspective//#more" class="more-link"><span class="readmore">more...</span></a></p>
  


</div>

<div class="firehose-post article">
    
    
    
    
  <a class="title-link" href="/2013/06/03/calibrated_cameras_in_opengl/">
  <h1 class="title">Calibrated Cameras in OpenGL without glFrustum</h1>
  </a>

  <div class="date emphnext">June 03, 2013</div>
    


  
    <div class="clearer"></div>


<div class='context-img' style='width:317px'>
<img src='/img/augmented_reality.jpg' />
<div class='caption'>Simulating a calibrated camera for augmented reality.
<div class='credit'><a href="http://www.flickr.com/photos/thp4/8060086636/">Credit: thp4</a></div>
</div>
</div>


<p>You've calibrated your camera.  You've decomposed it into intrinsic and extrinsic camera matrices. Now you need to use it to render a synthetic scene in OpenGL.  You know the extrinsic matrix corresponds to the modelview matrix and the intrinsic is the projection matrix, but beyond that you're stumped.  You remember something about <code>gluPerspective</code>, but it only permits two degrees of freedom, and your intrinsic camera matrix has five.  glFrustum looks promising, but the mapping between its parameters and the camera matrix aren't obvious and it looks like you'll have to ignore your camera's axis skew.  You may be asking yourself, "I have a matrix, why can't I just use it?"</p>

<p>You can.  And you don't have to jettison your axis skew, either.  In this article, I'll show how to use your intrinsic camera matrix in OpenGL with minimal modification.  For illustration, I'll use OpenGL 2.1 API calls, but the same matrices can be sent to your shaders in modern OpenGL.</p>

<h2>glFrustum:  Two Transforms in One</h2>

<p>To better understand perspective projection in OpenGL, let's examine <code>glFrustum</code>. According to the OpenGL documentation,</p>

<blockquote><p>glFrustum describes a perspective matrix that produces a perspective projection.</p></blockquote>

<p>While this is true, it only tells half of the story.</p>


    <p> <a href="/2013/06/03/calibrated_cameras_in_opengl//#more" class="more-link"><span class="readmore">more...</span></a></p>
  


</div>

<div class="firehose-post article">
    
    
    
    
  <a class="title-link" href="/2012/08/22/extrinsic/">
  <h1 class="title">Dissecting the Camera Matrix, Part 2: The Extrinsic Matrix</h1>
  </a>

  <div class="date emphnext">August 22, 2012</div>
    


  
    <p>Welcome to the third post in the series "<a href="/2012/08/13/introduction/">The Perspecive Camera - An Interactive Tour</a>."  In the last post, <a href="/2012/08/14/decompose/">we learned how to decompose the camera matrix</a> into a product of intrinsic and extrinsic matrices.  In the next two posts, we'll explore the extrinsic and intrinsic matrices in greater detail.  First we'll explore various ways of looking at the extrinsic matrix, with an interactive demo at the end.</p>

<h2>The Extrinsic Camera Matrix</h2>

<p>The camera's extrinsic matrix describes the camera's location in the world, and what direction it's pointing.  Those familiar with OpenGL know this as the "view matrix" (or rolled into the "modelview matrix").  It has two components: a rotation matrix, <em>R</em>, and a translation vector <strong><em>t</em></strong>, but as we'll soon see, these don't exactly correspond to the camera's rotation and translation.  First we'll examine the parts of the extrinsic matrix, and later we'll look at alternative ways of describing the camera's pose that are more intuitive.</p>


    <p> <a href="/2012/08/22/extrinsic//#more" class="more-link"><span class="readmore">more...</span></a></p>
  


</div>

<div class="firehose-post article">
    
    
    
    
  <a class="title-link" href="/2012/08/14/decompose/">
  <h1 class="title">Dissecting the Camera Matrix, Part 1: Extrinsic/Intrinsic Decomposition</h1>
  </a>

  <div class="date emphnext">August 14, 2012</div>
    


  
    <div class="clearer"></div>


<div class='context-img' style='width:320px'>
<img src='/img/decompose.jpg' />
<div class='caption'>Not this kind of decomposition.
<div class='credit'><a href="http://www.flickr.com/photos/dhollister/2596483147/">Credit: Daniel Hollister</a></div>
</div>
</div>


<p>So, you've been playing around a new computer vision library, and you've managed to calibrate your camera...  now what do you do with it?  It would be a lot more useful if you could get at the camera's position or find out it's field-of view.  You crack open your trusty copy of <a href="http://www.robots.ox.ac.uk/~vgg/hzbook/">Hartley and Zisserman</a>, which tells you how to decompose your camera into an intrinsic and extrinsic matrix --- great! But when you look at the results, something isn't quite right.  Maybe your rotation matrix has a determinant of -1, causing your matrix-to-quaternion function to barf.  Maybe your focal-length is negative, and you can't understand why.  Maybe your translation vector mistakenly claims that the world origin in <em>behind</em> the camera.  Or worst of all, everything looks fine, but when you plug it into OpenGL, you just don't see <em>anything</em>.</p>

<p>Today we'll cover the process of decomposing a camera matrix into intrinsic and extrinsic matrices, and we'll try to untangle the issues that can crop-up with different coordinate conventions.  In later articles, we'll study the <a href="/2013/08/13/intrinsic/">intrinsic</a> and <a href="/2012/08/22/extrinsic/">extrinsic</a> matrices in more detail, and I'll cover <a href="/2013/06/03/calibrated_cameras_in_opengl/">how to convert them into a form usable by OpenGL</a>.</p>


    <p> <a href="/2012/08/14/decompose//#more" class="more-link"><span class="readmore">more...</span></a></p>
  


</div>


<!-- Pagination links -->
<div class="pagination">
  
  
  
    <a href="/page2" class="next ">Read Older Posts &gt;&gt;</a>
  
</div>


</div><!-- End Page -->


  
  <div id="footer">
  	<address>
  		<span class="copyright">
  			Content by <a href="/about.html">Kyle Simek</a>. Original design by 
  			<a href="http://mark.reid.name/">Mark Reid</a>
  			<br/>
  			(<a rel="licence" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Some rights reserved</a>)			
  		</span>
  		<span class="engine">
  			Powered by <a href="https://github.com/mojombo/jekyll/" title="A static, minimalist CMS">Jekyll</a>
  		</span>
  	</address>
  </div>
  
</div>

<!--[if IE 6]>
<script type="text/javascript"> 
	/*Load jQuery if not already loaded*/ if(typeof jQuery == 'undefined'){ document.write("<script type=\"text/javascript\"   src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js\"></"+"script>"); var __noconflict = true; } 
	var IE6UPDATE_OPTIONS = {
		icons_path: "http://static.ie6update.com/hosted/ie6update/images/"
	}
</script>
<script type="text/javascript" src="http://static.ie6update.com/hosted/ie6update/ie6update.js"></script>
<![endif]-->

  


  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-33692744-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>




</body>
</html>

